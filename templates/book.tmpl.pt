<html metal:use-macro="context/@@base.tmpl/index/macros/base"
	  xmlns:metal="http://xml.zope.org/namespaces/metal">

<!-- <%namespace name="helper" file="post_helper.tmpl"/> -->
<!-- <%namespace name="pheader" file="post_header.tmpl"/> -->
<!-- <%namespace name="comments" file="comments_helper.tmpl"/> -->
<!-- <%inherit file="post.tmpl"/> -->


<metal:block metal:fill-slot="content">
<article class="storypage" itemscope="itemscope" itemtype="http://schema.org/Article">
    <div class="frame">
    <div class="scrolling-cont" id="scrolling-cont" name="scrolling-cont">
    <div class="e-content entry-content chapter" itemprop="articleBody text">
    <h1>${options/post/title}</h1>
    ${structure:options/post/text}
    </div>
    </div>
    </div>
</article>
</metal:block>

<metal:block metal:fill-slot="extra_js">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Flowtype.js/1.1.0/flowtype.min.js"></script>
    <script>
        $('#scrolling-cont').flowtype({
            minimum: 500,
            maximum: 1200,
            minFont: 20,
            maxFont: 40,
            fontRatio: 50
        });
        $(document).ready(function() {
            var elem = $('#scrolling-cont');
            elem.click(function(event) {
                var x1 = elem.position().left;
                var pw = elem.width() + 20;
                var x2 = event.pageX;
                if (x2 - x1 < pw / 2) {
                    pw = -pw;
                }
                elem.animate({
                    scrollLeft: '+=' + pw
                }, 500)
            });
        });
    </script>
</metal:block>

</html>
